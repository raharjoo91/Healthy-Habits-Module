<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthy Eating - Building Better Food Habits</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #bbf7d0 100%);
            min-height: 100vh;
            color: #1e293b;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        .nav-bar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            animation: slideDown 0.5s ease-out;
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .nav-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #15803d;
        }

        .nav-progress {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-step {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #e2e8f0;
            transition: all 0.3s ease;
        }

        .nav-step.active {
            background: #22c55e;
            transform: scale(1.2);
        }

        .nav-step.completed {
            background: #10b981;
        }

        /* Main container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 50px;
        }

        /* Page header */
        .page-header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInUp 0.8s ease-out;
        }

        .page-number {
            display: inline-block;
            background: linear-gradient(45deg, #22c55e, #15803d);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .page-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            color: #15803d;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(21, 128, 61, 0.1);
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: #64748b;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Content sections */
        .content-section {
            margin-bottom: 60px;
            animation: fadeInUp 0.8s ease-out;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: #15803d;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-icon {
            font-size: 2.5rem;
            animation: bounce 2s infinite;
        }

        /* Malaysian Dietary Guidelines Section */
        .guidelines-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        .guidelines-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #22c55e, #15803d, #059669);
        }

        /* Interactive Food Pyramid */
        .pyramid-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 40px 0;
        }

        .pyramid {
            position: relative;
            width: 400px;
            height: 300px;
            margin-bottom: 30px;
        }

        .pyramid-level {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            text-align: center;
            font-size: 0.9rem;
        }

        .pyramid-level:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .level-1 {
            bottom: 0;
            width: 350px;
            height: 60px;
            background: linear-gradient(45deg, #a3e635, #84cc16);
        }

        .level-2 {
            bottom: 70px;
            width: 280px;
            height: 50px;
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
        }

        .level-3 {
            bottom: 130px;
            width: 210px;
            height: 45px;
            background: linear-gradient(45deg, #60a5fa, #3b82f6);
        }

        .level-4 {
            bottom: 185px;
            width: 140px;
            height: 40px;
            background: linear-gradient(45deg, #f87171, #ef4444);
        }

        .level-5 {
            bottom: 235px;
            width: 80px;
            height: 35px;
            background: linear-gradient(45deg, #a78bfa, #8b5cf6);
        }

        /* Malaysian Healthy Plate */
        .healthy-plate {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .plate-container {
            position: relative;
            width: 350px;
            height: 350px;
            margin: 30px auto;
            border-radius: 50%;
            border: 8px solid #15803d;
            background: white;
            overflow: hidden;
        }

        .plate-section {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            text-align: center;
            font-size: 1rem;
        }

        .plate-section:hover {
            transform: scale(1.02);
            z-index: 10;
        }

        .vegetables {
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            border-radius: 175px 0 0 175px;
        }

        .fruits {
            top: 0;
            right: 0;
            width: 25%;
            height: 50%;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
        }

        .proteins {
            bottom: 0;
            right: 0;
            width: 25%;
            height: 50%;
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .grains {
            bottom: 0;
            right: 25%;
            width: 25%;
            height: 50%;
            background: linear-gradient(135deg, #a78bfa, #8b5cf6);
        }

        /* Portion Control Interactive */
        .portion-control {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .portion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .portion-card {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .portion-card:hover {
            border-color: #22c55e;
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(34, 197, 94, 0.2);
        }

        .portion-visual {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .portion-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #15803d;
            margin-bottom: 15px;
        }

        .portion-description {
            color: #64748b;
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .portion-example {
            background: #f0fdf4;
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #22c55e;
            font-size: 0.9rem;
            color: #15803d;
        }

        /* Food Choices Game */
        .food-choices-game {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .game-score {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-radius: 15px;
        }

        .score-display {
            font-size: 2rem;
            font-weight: 800;
            color: #1e40af;
        }

        .choices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .food-choice {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
            position: relative;
        }

        .food-choice:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .food-choice.healthy {
            border-color: #22c55e;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        }

        .food-choice.unhealthy {
            border-color: #ef4444;
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
        }

        .food-emoji {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .food-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 10px;
        }

        .food-info {
            font-size: 0.9rem;
            color: #64748b;
        }

        /* Behavioral Strategies */
        .strategies-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .strategy-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        .strategy-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(34, 197, 94, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .strategy-card:hover::before {
            left: 100%;
        }

        .strategy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .strategy-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        .strategy-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #15803d;
            margin-bottom: 15px;
        }

        .strategy-description {
            color: #374151;
            margin-bottom: 20px;
        }

        .strategy-tips {
            background: #f0fdf4;
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #22c55e;
        }

        .strategy-tips h4 {
            color: #15803d;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .strategy-tips ul {
            list-style: none;
            padding-left: 0;
        }

        .strategy-tips li {
            padding: 5px 0;
            color: #374151;
            font-size: 0.9rem;
        }

        .strategy-tips li::before {
            content: '✓';
            color: #22c55e;
            margin-right: 10px;
            font-weight: bold;
        }

        /* Interactive tips */
        .interactive-tip {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #f59e0b;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .interactive-tip:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.2);
        }

        .tip-icon {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        .tip-text {
            font-weight: 600;
            color: #92400e;
        }

        /* Navigation buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding: 30px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
        }

        .nav-button {
            background: linear-gradient(45deg, #22c55e, #15803d);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(34, 197, 94, 0.3);
        }

        .nav-button.disabled {
            background: #9ca3af;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Progress tracker */
        .progress-tracker {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .progress-bar {
            width: 150px;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #22c55e, #15803d);
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 0.8rem;
            color: #64748b;
            text-align: center;
        }

        /* Animations */
        @keyframes slideDown {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 80px 15px 30px;
            }

            .pyramid {
                width: 300px;
                height: 225px;
            }

            .level-1 { width: 280px; height: 50px; }
            .level-2 { width: 220px; height: 45px; bottom: 60px; }
            .level-3 { width: 160px; height: 40px; bottom: 110px; }
            .level-4 { width: 100px; height: 35px; bottom: 155px; }
            .level-5 { width: 60px; height: 30px; bottom: 195px; }

            .plate-container {
                width: 280px;
                height: 280px;
            }

            .portion-grid {
                grid-template-columns: 1fr;
            }

            .choices-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .strategies-container {
                grid-template-columns: 1fr;
            }

            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .progress-tracker {
                bottom: 15px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-bar">
        <div class="nav-content">
            <div class="nav-title">Healthy Eating Habits</div>
            <div class="nav-progress">
                <div class="nav-step completed"></div>
                <div class="nav-step completed"></div>
                <div class="nav-step active"></div>
                <div class="nav-step"></div>
                <div class="nav-step"></div>
                <div class="nav-step"></div>
                <div class="nav-step"></div>
                <div class="nav-step"></div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <span class="page-number">Page 2 of 8</span>
            <h1 class="page-title">Healthy Eating Habits</h1>
            <p class="page-subtitle">Learn practical strategies for making nutritious food choices every day</p>
        </div>

        <!-- Malaysian Dietary Guidelines -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">🇲🇾</span>
                Malaysian Dietary Guidelines
            </h2>

            <div class="guidelines-container">
                <h3 style="font-size: 1.5rem; color: #15803d; margin-bottom: 20px; text-align: center;">Interactive Food Pyramid</h3>
                <p style="text-align: center; color: #64748b; margin-bottom: 30px;">
                    Click on each level to learn about food groups and recommended servings
                </p>

                <div class="pyramid-container">
                    <div class="pyramid">
                        <div class="pyramid-level level-1" onclick="showPyramidInfo('grains')">
                            <span>🌾 Grains & Cereals<br>6-8 servings daily</span>
                        </div>
                        <div class="pyramid-level level-2" onclick="showPyramidInfo('fruits-veg')">
                            <span>🥬🍎 Fruits & Vegetables<br>5-9 servings daily</span>
                        </div>
                        <div class="pyramid-level level-3" onclick="showPyramidInfo('protein')">
                            <span>🐟🥩 Protein Foods<br>2-3 servings daily</span>
                        </div>
                        <div class="pyramid-level level-4" onclick="showPyramidInfo('dairy')">
                            <span>🥛 Dairy Products<br>1-2 servings daily</span>
                        </div>
                        <div class="pyramid-level level-5" onclick="showPyramidInfo('fats')">
                            <span>🫒 Fats & Oils<br>Use sparingly</span>
                        </div>
                    </div>
                </div>

                <div class="interactive-tip" onclick="showPyramidTip(this)">
                    <span class="tip-icon">🎯</span>
                    <span class="tip-text">Click here to learn: How to use this pyramid in your daily meal planning</span>
                </div>
            </div>
        </div>

        <!-- Malaysian Healthy Plate -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">🍽️</span>
                The Malaysian Healthy Plate
            </h2>

            <div class="healthy-plate">
                <h3 style="font-size: 1.5rem; color: #15803d; margin-bottom: 20px;">Interactive Healthy Plate Model</h3>
                <p style="color: #64748b; margin-bottom: 30px;">
                    Click on each section to understand proper portion sizes for balanced meals
                </p>

                <div class="plate-container">
                    <div class="plate-section vegetables" onclick="showPlateInfo('vegetables')">
                        <span>🥬<br>Vegetables<br>50%</span>
                    </div>
                    <div class="plate-section fruits" onclick="showPlateInfo('fruits')">
                        <span>🍎<br>Fruits<br>25%</span>
                    </div>
                    <div class="plate-section proteins" onclick="showPlateInfo('proteins')">
                        <span>🐟<br>Proteins<br>25%</span>
                    </div>
                    <div class="plate-section grains" onclick="showPlateInfo('grains')">
                        <span>🌾<br>Grains<br>25%</span>
                    </div>
                </div>

                <div class="interactive-tip" onclick="showPlateAdvice(this)">
                    <span class="tip-icon">💡</span>
                    <span class="tip-text">Pro tip: Use a regular dinner plate to practice proper portions!</span>
                </div>
            </div>
        </div>

        <!-- Portion Control -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">✋</span>
                Portion Control Made Easy
            </h2>

            <div class="portion-control">
                <h3 style="font-size: 1.5rem; color: #15803d; margin-bottom: 20px; text-align: center;">Use Your Hands as Measuring Tools</h3>
                <p style="text-align: center; color: #64748b; margin-bottom: 30px;">
                    Your hands are always with you - perfect for estimating healthy portions!
                </p>

                <div class="portion-grid">
                    <div class="portion-card" onclick="animatePortionCard(this)">
                        <span class="portion-visual">👊</span>
                        <h4 class="portion-title">Fist = Vegetables</h4>
                        <p class="portion-description">One fist-sized portion of vegetables per meal</p>
                        <div class="portion-example">
                            Example: 1 cup of leafy greens, broccoli, or mixed vegetables
                        </div>
                    </div>

                    <div class="portion-card" onclick="animatePortionCard(this)">
                        <span class="portion-visual">🤲</span>
                        <h4 class="portion-title">Cupped Hand = Carbs</h4>
                        <p class="portion-description">One cupped handful of starchy carbohydrates</p>
                        <div class="portion-example">
                            Example: ½ cup of rice, pasta, or potatoes
                        </div>
                    </div>

                    <div class="portion-card" onclick="animatePortionCard(this)">
                        <span class="portion-visual">🤚</span>
                        <h4 class="portion-title">Palm = Protein</h4>
                        <p class="portion-description">Palm-sized portion of lean protein</p>
                        <div class="portion-example">
                            Example: Chicken breast, fish fillet, or tofu slice
                        </div>
                    </div>

                    <div class="portion-card" onclick="animatePortionCard(this)">
                        <span class="portion-visual">👍</span>
                        <h4 class="portion-title">Thumb = Healthy Fats</h4>
                        <p class="portion-description">Thumb-sized portion of healthy fats</p>
                        <div class="portion-example">
                            Example: 1 tablespoon of olive oil, nuts, or avocado
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Food Choices Game -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">🎮</span>
                Smart Food Choices Challenge
            </h2>

            <div class="food-choices-game">
                <div class="game-score">
                    <h3 style="color: #1e40af; margin-bottom: 10px;">Your Healthy Choice Score</h3>
                    <div class="score-display" id="gameScore">0 / 8</div>
                    <p style="color: #64748b; margin-top: 10px;">Click on the healthier option in each pair!</p>
                </div>

                <div class="choices-grid" id="foodChoicesGrid">
                    <!-- Food choices will be generated by JavaScript -->
                </div>

                <div class="interactive-tip" onclick="resetGame()">
                    <span class="tip-icon">🔄</span>
                    <span class="tip-text">Click to reset game and try again!</span>
                </div>
            </div>
        </div>

        <!-- Behavioral Strategies -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">🧠</span>
                Behavioral Strategies for Success
            </h2>

            <div class="strategies-container">
                <div class="strategy-card" onclick="expandStrategy(this)">
                    <span class="strategy-icon">📝</span>
                    <h3 class="strategy-title">Self-Monitoring</h3>
                    <p class="strategy-description">
                        Track your eating habits to become more aware of your food choices and patterns.
                    </p>
                    <div class="strategy-tips">
                        <h4>Practical Tips:</h4>
                        <ul>
                            <li>Keep a food diary for one week</li>
                            <li>Use smartphone apps to track meals</li>
                            <li>Note hunger levels before eating</li>
                            <li>Record emotions when eating</li>
                        </ul>
                    </div>
                </div>

                <div class="strategy-card" onclick="expandStrategy(this)">
                    <span class="strategy-icon">🎯</span>
                    <h3 class="strategy-title">Goal Setting</h3>
                    <p class="strategy-description">
                        Set specific, achievable goals for your eating habits to create lasting change.
                    </p>
                    <div class="strategy-tips">
                        <h4>SMART Goals Examples:</h4>
                        <ul>
                            <li>Eat 2 servings of fruit daily this week</li>
                            <li>Replace sugary drinks with water</li>
                            <li>Pack healthy lunch 3 times this week</li>
                            <li>Try one new vegetable each week</li>
                        </ul>
                    </div>
                </div>

                <div class="strategy-card" onclick="expandStrategy(this)">
                    <span class="strategy-icon">🍳</span>
                    <h3 class="strategy-title">Meal Planning</h3>
                    <p class="strategy-description">
                        Plan your meals in advance to make healthier choices and avoid impulsive eating.
                    </p>
                    <div class="strategy-tips">
                        <h4>Planning Steps:</h4>
                        <ul>
                            <li>Plan meals for the week ahead</li>
                            <li>Create a grocery shopping list</li>
                            <li>Prep ingredients on weekends</li>
                            <li>Have healthy backup meals ready</li>
                        </ul>
                    </div>
                </div>

                <div class="strategy-card" onclick="expandStrategy(this)">
                    <span class="strategy-icon">🏠</span>
                    <h3 class="strategy-title">Environment Control</h3>
                    <p class="strategy-description">
                        Modify your environment to make healthy choices easier and unhealthy choices harder.
                    </p>
                    <div class="strategy-tips">
                        <h4>Environment Changes:</h4>
                        <ul>
                            <li>Keep healthy snacks visible</li>
                            <li>Store unhealthy foods out of sight</li>
                            <li>Use smaller plates and bowls</li>
                            <li>Have fruits ready to eat</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Healthy Cooking Methods -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">👨‍🍳</span>
                Healthy Cooking Methods
            </h2>

            <div class="interactive-tip" onclick="showCookingTip(this)">
                <span class="tip-icon">🔥</span>
                <span class="tip-text">Click to discover: How cooking methods affect nutrition and taste!</span>
            </div>

            <div class="strategies-container">
                <div class="strategy-card" onclick="demonstrateCooking(this, 'steam')">
                    <span class="strategy-icon">💨</span>
                    <h3 class="strategy-title">Steaming</h3>
                    <p class="strategy-description">
                        Retains nutrients and natural flavors without adding extra fats or oils.
                    </p>
                    <div class="strategy-tips">
                        <h4>Best for:</h4>
                        <ul>
                            <li>Vegetables (broccoli, carrots)</li>
                            <li>Fish and seafood</li>
                            <li>Dumplings and dim sum</li>
                            <li>Rice and grains</li>
                        </ul>
                    </div>
                </div>

                <div class="strategy-card" onclick="demonstrateCooking(this, 'grill')">
                    <span class="strategy-icon">🔥</span>
                    <h3 class="strategy-title">Grilling</h3>
                    <p class="strategy-description">
                        Allows fats to drain away while adding delicious smoky flavors.
                    </p>
                    <div class="strategy-tips">
                        <h4>Perfect for:</h4>
                        <ul>
                            <li>Lean meats and poultry</li>
                            <li>Fish fillets</li>
                            <li>Vegetables (peppers, zucchini)</li>
                            <li>Tofu and tempeh</li>
                        </ul>
                    </div>
                </div>

                <div class="strategy-card" onclick="demonstrateCooking(this, 'bake')">
                    <span class="strategy-icon">🔥</span>
                    <h3 class="strategy-title">Baking</h3>
                    <p class="strategy-description">
                        Uses dry heat to cook food evenly with minimal added fats.
                    </p>
                    <div class="strategy-tips">
                        <h4>Great for:</h4>
                        <ul>
                            <li>Chicken and fish</li>
                            <li>Root vegetables</li>
                            <li>Whole grain breads</li>
                            <li>Healthy casseroles</li>
                        </ul>
                    </div>
                </div>

                <div class="strategy-card" onclick="demonstrateCooking(this, 'stirfry')">
                    <span class="strategy-icon">🥢</span>
                    <h3 class="strategy-title">Stir-Frying</h3>
                    <p class="strategy-description">
                        Quick cooking method that preserves nutrients and requires minimal oil.
                    </p>
                    <div class="strategy-tips">
                        <h4>Ideal for:</h4>
                        <ul>
                            <li>Mixed vegetables</li>
                            <li>Lean protein strips</li>
                            <li>Noodles and rice</li>
                            <li>Asian-inspired dishes</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reading Food Labels -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-icon">🏷️</span>
                Understanding Food Labels
            </h2>

            <div class="guidelines-container">
                <h3 style="font-size: 1.5rem; color: #15803d; margin-bottom: 20px; text-align: center;">Interactive Label Reader</h3>
                <p style="text-align: center; color: #64748b; margin-bottom: 30px;">
                    Learn to decode nutrition labels and make informed food choices
                </p>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin: 30px 0;">
                    <div class="portion-card" onclick="showLabelInfo(this, 'serving')">
                        <span class="portion-visual">📏</span>
                        <h4 class="portion-title">Serving Size</h4>
                        <p class="portion-description">Always check the serving size first - it affects all other numbers!</p>
                        <div class="portion-example">
                            Look for: "Per 100g" or "Per serving"
                        </div>
                    </div>

                    <div class="portion-card" onclick="showLabelInfo(this, 'calories')">
                        <span class="portion-visual">⚡</span>
                        <h4 class="portion-title">Calories</h4>
                        <p class="portion-description">Energy content per serving - helps with portion control</p>
                        <div class="portion-example">
                            Aim for: Balanced calorie distribution throughout the day
                        </div>
                    </div>

                    <div class="portion-card" onclick="showLabelInfo(this, 'nutrients')">
                        <span class="portion-visual">🧪</span>
                        <h4 class="portion-title">Key Nutrients</h4>
                        <p class="portion-description">Focus on fiber, protein, vitamins, and minerals</p>
                        <div class="portion-example">
                            Choose: High fiber, adequate protein, low sodium
                        </div>
                    </div>

                    <div class="portion-card" onclick="showLabelInfo(this, 'ingredients')">
                        <span class="portion-visual">📋</span>
                        <h4 class="portion-title">Ingredients List</h4>
                        <p class="portion-description">Listed by weight - first ingredients are most abundant</p>
                        <div class="portion-example">
                            Avoid: Long lists with unpronounceable ingredients
                        </div>
                    </div>
                </div>

                <div class="interactive-tip" onclick="showLabelGame()">
                    <span class="tip-icon">🎯</span>
                    <span class="tip-text">Try the label reading challenge - can you spot the healthier option?</span>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-buttons">
            <button class="nav-button" onclick="goBack()">
                ← Previous: Understanding Obesity
            </button>
            <button class="nav-button" onclick="goNext()">
                Next: Physical Activity →
            </button>
        </div>
    </div>

    <!-- Progress Tracker -->
    <div class="progress-tracker">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">Page Progress: 0%</div>
    </div>

    <script>
        // Game variables
        let gameScore = 0;
        const maxScore = 8;
        let currentProgress = 0;
        const maxProgress = 7; // Number of interactive sections

        // Food choices for the game
        const foodPairs = [
            {
                healthy: { emoji: '🍎', name: 'Fresh Apple', info: 'Natural sugars, fiber, vitamins' },
                unhealthy: { emoji: '🍪', name: 'Chocolate Cookie', info: 'Added sugars, processed fats' }
            },
            {
                healthy: { emoji: '🥗', name: 'Green Salad', info: 'Vitamins, minerals, low calories' },
                unhealthy: { emoji: '🍟', name: 'French Fries', info: 'Deep fried, high sodium' }
            },
            {
                healthy: { emoji: '🐟', name: 'Grilled Fish', info: 'Omega-3, lean protein' },
                unhealthy: { emoji: '🍔', name: 'Burger', info: 'High calories, saturated fat' }
            },
            {
                healthy: { emoji: '🥛', name: 'Low-fat Milk', info: 'Calcium, protein, vitamins' },
                unhealthy: { emoji: '🥤', name: 'Soda', info: 'Empty calories, added sugars' }
            }
        ];

        // Initialize the food choices game
        function initializeGame() {
            const grid = document.getElementById('foodChoicesGrid');
            grid.innerHTML = '';
            
            foodPairs.forEach((pair, index) => {
                // Randomly order healthy and unhealthy options
                const items = Math.random() > 0.5 ? [pair.healthy, pair.unhealthy] : [pair.unhealthy, pair.healthy];
                
                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'food-choice';
                    card.innerHTML = `
                        <span class="food-emoji">${item.emoji}</span>
                        <div class="food-name">${item.name}</div>
                        <div class="food-info">${item.info}</div>
                    `;
                    
                    card.onclick = () => selectFood(card, item === pair.healthy, pair);
                    grid.appendChild(card);
                });
            });
        }

        // Handle food selection in game
        function selectFood(card, isHealthy, pair) {
            // Prevent multiple clicks on same pair
            const pairCards = card.parentNode.querySelectorAll('.food-choice');
            let alreadySelected = false;
            pairCards.forEach(c => {
                if (c.classList.contains('healthy') || c.classList.contains('unhealthy')) {
                    alreadySelected = true;
                }
            });
            
            if (alreadySelected) return;

            if (isHealthy) {
                card.classList.add('healthy');
                gameScore++;
                showFeedback(card, '✅ Great choice!', '#22c55e');
            } else {
                card.classList.add('unhealthy');
                showFeedback(card, '❌ Try the other option!', '#ef4444');
                
                // Highlight the healthy option
                pairCards.forEach(c => {
                    const emoji = c.querySelector('.food-emoji').textContent;
                    if (emoji === pair.healthy.emoji) {
                        setTimeout(() => {
                            c.classList.add('healthy');
                            showFeedback(c, '✅ This is healthier!', '#22c55e');
                        }, 1000);
                    }
                });
            }

            updateGameScore();
            updateProgress();
        }

        // Show feedback for food choices
        function showFeedback(card, message, color) {
            const feedback = document.createElement('div');
            feedback.innerHTML = message;
            feedback.style.cssText = `
                position: absolute;
                top: -40px;
                left: 50%;
                transform: translateX(-50%);
                background: ${color};
                color: white;
                padding: 8px 15px;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
                opacity: 0;
                transition: all 0.5s ease;
                pointer-events: none;
                z-index: 10;
                white-space: nowrap;
            `;
            
            card.style.position = 'relative';
            card.appendChild(feedback);
            
            setTimeout(() => {
                feedback.style.opacity = '1';
                feedback.style.top = '-50px';
            }, 100);
            
            setTimeout(() => {
                feedback.remove();
            }, 3000);
        }

        // Update game score display
        function updateGameScore() {
            document.getElementById('gameScore').textContent = `${gameScore} / ${maxScore}`;
            
            if (gameScore === maxScore) {
                setTimeout(() => {
                    showGameCompletion();
                }, 1000);
            }
        }

        // Show game completion message
        function showGameCompletion() {
            const completion = document.createElement('div');
            completion.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 15px;">🎉</div>
                    <div style="font-size: 1.3rem; font-weight: 700; margin-bottom: 10px;">Perfect Score!</div>
                    <div style="font-size: 0.9rem;">You've mastered healthy food choices! Your confidence in making smart decisions is growing!</div>
                </div>
            `;
            completion.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #22c55e, #15803d);
                color: white;
                padding: 30px;
                border-radius: 20px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                z-index: 1000;
                opacity: 0;
                transition: all 0.5s ease;
                max-width: 400px;
            `;
            
            document.body.appendChild(completion);
            
            setTimeout(() => {
                completion.style.opacity = '1';
            }, 100);
            
            setTimeout(() => {
                completion.style.opacity = '0';
                setTimeout(() => {
                    completion.remove();
                }, 500);
            }, 4000);
        }

        // Reset the game
        function resetGame() {
            gameScore = 0;
            updateGameScore();
            initializeGame();
            
            // Show reset feedback
            const tip = event.target.closest('.interactive-tip');
            const originalText = tip.querySelector('.tip-text').textContent;
            tip.querySelector('.tip-text').textContent = 'Game reset! Try to get a perfect score this time!';
            tip.style.background = 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)';
            
            setTimeout(() => {
                tip.querySelector('.tip-text').textContent = originalText;
                tip.style.background = 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)';
            }, 3000);
        }

        // Show pyramid information
        function showPyramidInfo(category) {
            const info = {
                'grains': 'Whole grains provide energy and B vitamins. Choose brown rice, whole wheat bread, and oats for sustained energy.',
                'fruits-veg': 'Fruits and vegetables are packed with vitamins, minerals, and fiber. Aim for a variety of colors daily!',
                'protein': 'Protein foods build and repair muscles. Include fish, lean meats, eggs, beans, and tofu in your diet.',
                'dairy': 'Dairy products provide calcium for strong bones. Choose low-fat options like skim milk and yogurt.',
                'fats': 'Use healthy fats like olive oil and nuts sparingly. Limit saturated and trans fats for heart health.'
            };
            
            showInfoPopup(info[category], '🏔️ Food Pyramid Info');
            updateProgress();
        }

        // Show plate information
        function showPlateInfo(section) {
            const info = {
                'vegetables': 'Fill half your plate with vegetables! They\'re low in calories but high in nutrients and fiber.',
                'fruits': 'A quarter plate of fruits provides natural sweetness and essential vitamins. Fresh is best!',
                'proteins': 'A quarter plate of lean protein helps build strong muscles and keeps you satisfied longer.',
                'grains': 'Choose whole grains for sustained energy and important B vitamins and fiber.'
            };
            
            showInfoPopup(info[section], '🍽️ Healthy Plate Guide');
            updateProgress();
        }

        // Show information popup
        function showInfoPopup(message, title) {
            const popup = document.createElement('div');
            popup.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 15px; color: #15803d;">${title}</div>
                    <div style="font-size: 0.95rem; line-height: 1.6;">${message}</div>
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        background: #22c55e; color: white; border: none; padding: 10px 20px; 
                        border-radius: 20px; margin-top: 20px; cursor: pointer; font-weight: 600;
                    ">Got it!</button>
                </div>
            `;
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 30px;
                border-radius: 20px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                z-index: 1000;
                max-width: 400px;
                opacity: 0;
                transition: all 0.3s ease;
            `;
            
            document.body.appendChild(popup);
            
            setTimeout(() => {
                popup.style.opacity = '1';
            }, 100);
        }

        // Animate portion cards
        function animatePortionCard(card) {
            card.style.transform = 'translateY(-10px) scale(1.05)';
            card.style.borderColor = '#22c55e';
            
            // Add engagement feedback
            const feedback = document.createElement('div');
            feedback.innerHTML = '💪 You\'re building healthy habits!';
            feedback.style.cssText = `
                position: absolute;
                top: -35px;
                left: 50%;
                transform: translateX(-50%);
                background: #22c55e;
                color: white;
                padding: 8px 15px;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
                opacity: 0;
                transition: all 0.5s ease;
                pointer-events: none;
                z-index: 10;
                white-space: nowrap;
            `;
            
            card.style.position = 'relative';
            card.appendChild(feedback);
            
            setTimeout(() => {
                feedback.style.opacity = '1';
                feedback.style.top = '-45px';
            }, 100);
            
            setTimeout(() => {
                feedback.remove();
                card.style.transform = 'translateY(0) scale(1)';
                card.style.borderColor = 'transparent';
            }, 3000);
            
            updateProgress();
        }

        // Expand strategy cards
        function expandStrategy(card) {
            card.style.transform = 'scale(1.02)';
            card.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.15)';
            
            setTimeout(() => {
                card.style.transform = 'scale(1)';
                card.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';
            }, 3000);
            
            updateProgress();
        }

        // Demonstrate cooking methods
        function demonstrateCooking(card, method) {
            const tips = {
                'steam': '💡 Steam vegetables for 3-5 minutes to keep them crisp and colorful!',
                'grill': '💡 Marinate proteins before grilling for extra flavor without added calories!',
                'bake': '💡 Baking at 180°C preserves nutrients while creating delicious flavors!',
                'stirfry': '💡 Use high heat and cook quickly to retain the crunch in vegetables!'
            };
            
            showInfoPopup(tips[method], '👨‍🍳 Cooking Tip');
            updateProgress();
        }

        // Show various tips
        function showPyramidTip(tip) {
            const originalText = tip.querySelector('.tip-text').textContent;
            tip.querySelector('.tip-text').textContent = 'Plan meals using the pyramid as your guide - it helps create balanced, nutritious meals every day!';
            tip.style.background = 'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)';
            tip.style.borderLeftColor = '#22c55e';
            
            setTimeout(() => {
                tip.querySelector('.tip-text').textContent = originalText;
                tip.style.background = 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)';
                tip.style.borderLeftColor = '#f59e0b';
            }, 4000);
            
            updateProgress();
        }

        function showPlateAdvice(tip) {
            const originalText = tip.querySelector('.tip-text').textContent;
            tip.querySelector('.tip-text').textContent = 'Using a 9-inch plate helps control portions naturally - bigger plates lead to bigger portions!';
            tip.style.background = 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)';
            tip.style.borderLeftColor = '#3b82f6';
            
            setTimeout(() => {
                tip.querySelector('.tip-text').textContent = originalText;
                tip.style.background = 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)';
                tip.style.borderLeftColor = '#f59e0b';
            }, 4000);
        }

        function showCookingTip(tip) {
            const originalText = tip.querySelector('.tip-text').textContent;
            tip.querySelector('.tip-text').textContent = 'Cooking method can change calories by 50%! Choose steaming, grilling, or baking over frying.';
            tip.style.background = 'linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%)';
            tip.style.borderLeftColor = '#e53e3e';
            
            setTimeout(() => {
                tip.querySelector('.tip-text').textContent = originalText;
                tip.style.background = 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)';
                tip.style.borderLeftColor = '#f59e0b';
            }, 4000);
        }

        // Show label information
        function showLabelInfo(card, type) {
            const info = {
                'serving': 'Always multiply nutrition facts by the number of servings you actually eat. One package might contain 2-3 servings!',
                'calories': 'For adolescents, aim for 400-600 calories per main meal and 150-200 for snacks.',
                'nutrients': 'Look for foods high in fiber (>3g), protein (>5g), and low in sodium (<600mg per serving).',
                'ingredients': 'If you can\'t pronounce it, research it! Choose foods with short, recognizable ingredient lists.'
            };
            
            showInfoPopup(info[type], '🏷️ Label Reading Tip');
            updateProgress();
        }

        // Show label reading game
        function showLabelGame() {
            showInfoPopup(
                'Compare two similar products next time you shop! Look at calories, fiber, and sugar content. The one with more fiber and less sugar is usually healthier!',
                '🎯 Label Challenge'
            );
        }

        // Update progress
        function updateProgress() {
            currentProgress = Math.min(currentProgress + 1, maxProgress);
            const percentage = Math.round((currentProgress / maxProgress) * 100);
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `Page Progress: ${percentage}%`;
            
            if (percentage === 100) {
                showPageCompletion();
            }
        }

        // Show page completion
        function showPageCompletion() {
            const completion = document.createElement('div');
            completion.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 15px;">🌟</div>
                    <div style="font-size: 1.3rem; font-weight: 700; margin-bottom: 10px;">Excellent Progress!</div>
                    <div style="font-size: 0.9rem;">You've completed the Healthy Eating module! You now have the knowledge and confidence to make better food choices.</div>
                </div>
            `;
            completion.style.cssText = `
                position: fixed;
                bottom: 100px;
                right: 30px;
                background: linear-gradient(135deg, #f59e0b, #d97706);
                color: white;
                padding: 25px;
                border-radius: 20px;
                box-shadow: 0 15px 35px rgba(245, 158, 11, 0.3);
                z-index: 1000;
                opacity: 0;
                transform: translateY(100px);
                transition: all 0.5s ease;
                max-width: 300px;
                cursor: pointer;
            `;
            
            document.body.appendChild(completion);
            
            setTimeout(() => {
                completion.style.opacity = '1';
                completion.style.transform = 'translateY(0)';
            }, 100);
            
            completion.addEventListener('click', () => {
                completion.style.opacity = '0';
                completion.style.transform = 'translateY(100px)';
                setTimeout(() => {
                    completion.remove();
                }, 500);
            });
        }

        // Navigation functions
        function goBack() {
            event.target.innerHTML = '⏳ Loading...';
            event.target.style.background = '#9ca3af';
            
            // Navigate back to previous page
            setTimeout(() => {
                window.location.href = 'healthy_habits_page1.html';
            }, 1000);
        }

        function goNext() {
            updateNavProgress(3);
            
            event.target.innerHTML = '⏳ Loading...';
            event.target.style.background = '#3b82f6';
            
            // Navigate to the next page
            setTimeout(() => {
                window.location.href = 'healthy_habits_page3.html';
            }, 1000);
        }

        function updateNavProgress(pageNumber) {
            const steps = document.querySelectorAll('.nav-step');
            steps.forEach((step, index) => {
                if (index < pageNumber - 1) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (index === pageNumber - 1) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeGame();
            
            // Scroll animations
            const elements = document.querySelectorAll('.content-section');
            elements.forEach((element, index) => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(50px)';
                element.style.transition = 'all 0.8s ease';
                element.style.transitionDelay = `${index * 0.2}s`;
            });
            
            // Trigger initial animation
            setTimeout(animateOnScroll, 100);
        });

        // Scroll animation function
        function animateOnScroll() {
            const elements = document.querySelectorAll('.content-section');
            
            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < window.innerHeight - elementVisible) {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }
            });
        }

        window.addEventListener('scroll', animateOnScroll);

        // Self-efficacy tracking for Social Cognitive Theory
        let interactionCount = 0;
        const milestones = [5, 10, 15, 20];
        let currentMilestone = 0;

        function trackEngagement() {
            interactionCount++;
            
            if (interactionCount === milestones[currentMilestone]) {
                showMilestoneAchievement();
                currentMilestone++;
            }
        }

        function showMilestoneAchievement() {
            const messages = [
                { emoji: '🎯', title: 'Getting Started!', text: 'You\'re actively engaging with the content - great motivation!' },
                { emoji: '💪', title: 'Building Confidence!', text: 'Your learning is strengthening your ability to make healthy choices!' },
                { emoji: '⭐', title: 'Skill Development!', text: 'You\'re mastering the strategies for healthy eating habits!' },
                { emoji: '🏆', title: 'Expert Level!', text: 'You have the knowledge and confidence to succeed!' }
            ];
            
            const message = messages[currentMilestone - 1];
            if (!message) return;
            
            const achievement = document.createElement('div');
            achievement.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 2.5rem; margin-bottom: 15px;">${message.emoji}</div>
                    <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 10px;">${message.title}</div>
                    <div style="font-size: 0.9rem;">${message.text}</div>
                </div>
            `;
            achievement.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #22c55e, #15803d);
                color: white;
                padding: 30px;
                border-radius: 20px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                z-index: 1000;
                opacity: 0;
                transition: all 0.5s ease;
                max-width: 350px;
            `;
            
            document.body.appendChild(achievement);
            
            setTimeout(() => {
                achievement.style.opacity = '1';
            }, 100);
            
            setTimeout(() => {
                achievement.style.opacity = '0';
                setTimeout(() => {
                    achievement.remove();
                }, 500);
            }, 3500);
        }

        // Add engagement tracking to interactive elements
        document.addEventListener('DOMContentLoaded', function() {
            const interactiveElements = document.querySelectorAll('.pyramid-level, .plate-section, .portion-card, .food-choice, .strategy-card, .interactive-tip');
            
            interactiveElements.forEach(element => {
                element.addEventListener('click', trackEngagement);
            });
        });

        // Knowledge retention quiz (hidden feature activated by interaction)
        function activateQuiz() {
            if (interactionCount >= 15) {
                const quiz = document.createElement('div');
                quiz.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; margin-bottom: 15px;">🧠</div>
                        <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 20px;">Quick Knowledge Check</div>
                        <div style="font-size: 0.9rem; margin-bottom: 20px;">What should fill half of your healthy plate?</div>
                        <button onclick="answerQuiz('vegetables', this)" style="margin: 5px; padding: 10px 15px; border: none; border-radius: 20px; background: #e2e8f0; cursor: pointer;">Vegetables</button>
                        <button onclick="answerQuiz('protein', this)" style="margin: 5px; padding: 10px 15px; border: none; border-radius: 20px; background: #e2e8f0; cursor: pointer;">Protein</button>
                        <button onclick="answerQuiz('grains', this)" style="margin: 5px; padding: 10px 15px; border: none; border-radius: 20px; background: #e2e8f0; cursor: pointer;">Grains</button>
                    </div>
                `;
                quiz.style.cssText = `
                    position: fixed;
                    bottom: 30px;
                    left: 30px;
                    background: white;
                    padding: 25px;
                    border-radius: 20px;
                    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
                    z-index: 1000;
                    opacity: 0;
                    transform: translateY(100px);
                    transition: all 0.5s ease;
                    max-width: 280px;
                `;
                
                document.body.appendChild(quiz);
                
                setTimeout(() => {
                    quiz.style.opacity = '1';
                    quiz.style.transform = 'translateY(0)';
                }, 100);
                
                window.currentQuiz = quiz;
            }
        }

        function answerQuiz(answer, button) {
            const quiz = window.currentQuiz;
            const buttons = quiz.querySelectorAll('button');
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === 'vegetables') {
                button.style.background = '#22c55e';
                button.style.color = 'white';
                button.innerHTML = '✅ Correct!';
                
                setTimeout(() => {
                    quiz.innerHTML = `
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 15px;">🎉</div>
                            <div style="font-size: 1.1rem; font-weight: 700; margin-bottom: 10px;">Excellent!</div>
                            <div style="font-size: 0.9rem;">You're retaining the knowledge well!</div>
                        </div>
                    `;
                }, 1000);
            } else {
                button.style.background = '#ef4444';
                button.style.color = 'white';
                button.innerHTML = '❌ Try again';
                
                // Highlight correct answer
                buttons.forEach(btn => {
                    if (btn.onclick.toString().includes('vegetables')) {
                        btn.style.background = '#22c55e';
                        btn.style.color = 'white';
                        btn.innerHTML = '✅ Vegetables (50%)';
                    }
                });
            }
            
            setTimeout(() => {
                quiz.style.opacity = '0';
                quiz.style.transform = 'translateY(100px)';
                setTimeout(() => {
                    quiz.remove();
                }, 500);
            }, 3000);
        }

        // Activate quiz when user shows high engagement
        setInterval(() => {
            if (interactionCount >= 15 && !window.currentQuiz) {
                activateQuiz();
            }
        }, 5000);

        // Personalized goal setting feature
        function suggestPersonalGoals() {
            const goals = [
                "Replace one sugary drink with water today",
                "Try one new vegetable this week", 
                "Use the healthy plate model for lunch tomorrow",
                "Read nutrition labels on 3 products this week",
                "Plan meals for 2 days ahead"
            ];
            
            const randomGoal = goals[Math.floor(Math.random() * goals.length)];
            
            const goalCard = document.createElement('div');
            goalCard.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 15px;">🎯</div>
                    <div style="font-size: 1.1rem; font-weight: 700; margin-bottom: 15px;">Personal Goal Suggestion</div>
                    <div style="font-size: 0.9rem; margin-bottom: 20px; padding: 15px; background: #f0fdf4; border-radius: 10px; border-left: 4px solid #22c55e;">${randomGoal}</div>
                    <button onclick="acceptGoal(this, '${randomGoal}')" style="background: #22c55e; color: white; border: none; padding: 10px 20px; border-radius: 20px; margin: 5px; cursor: pointer; font-weight: 600;">Accept Challenge</button>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: #e2e8f0; color: #64748b; border: none; padding: 10px 20px; border-radius: 20px; margin: 5px; cursor: pointer;">Maybe Later</button>
                </div>
            `;
            goalCard.style.cssText = `
                position: fixed;
                top: 20%;
                right: 30px;
                background: white;
                padding: 25px;
                border-radius: 20px;
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
                z-index: 1000;
                opacity: 0;
                transform: translateX(100px);
                transition: all 0.5s ease;
                max-width: 300px;
            `;
            
            document.body.appendChild(goalCard);
            
            setTimeout(() => {
                goalCard.style.opacity = '1';
                goalCard.style.transform = 'translateX(0)';
            }, 100);
        }

        function acceptGoal(button, goal) {
            button.innerHTML = '✅ Goal Accepted!';
            button.style.background = '#15803d';
            
            // Store goal in memory (would be localStorage in real app)
            window.userGoal = goal;
            
            setTimeout(() => {
                button.parentElement.parentElement.remove();
                showGoalConfirmation(goal);
            }, 1500);
        }

        function showGoalConfirmation(goal) {
            const confirmation = document.createElement('div');
            confirmation.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 15px;">💪</div>
                    <div style="font-size: 1.1rem; font-weight: 700; margin-bottom: 10px;">Goal Set Successfully!</div>
                    <div style="font-size: 0.9rem;">Your commitment to "${goal}" shows great self-efficacy. You've got this!</div>
                </div>
            `;
            confirmation.style.cssText = `
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #22c55e, #15803d);
                color: white;
                padding: 20px;
                border-radius: 20px;
                box-shadow: 0 15px 35px rgba(34, 197, 94, 0.3);
                z-index: 1000;
                opacity: 0;
                transition: all 0.5s ease;
                max-width: 400px;
            `;
            
            document.body.appendChild(confirmation);
            
            setTimeout(() => {
                confirmation.style.opacity = '1';
            }, 100);
            
            setTimeout(() => {
                confirmation.style.opacity = '0';
                setTimeout(() => {
                    confirmation.remove();
                }, 500);
            }, 4000);
        }

        // Suggest personal goals after high engagement
        setTimeout(() => {
            if (interactionCount >= 10) {
                suggestPersonalGoals();
            }
        }, 30000); // After 30 seconds of being on page

        // Dynamic difficulty adjustment based on user performance
        function adjustContentDifficulty() {
            if (gameScore >= 6) { // High performance
                // Show advanced tips
                const advancedTip = document.createElement('div');
                advancedTip.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 10px;">🌟</div>
                        <div style="font-size: 1rem; font-weight: 600; margin-bottom: 10px;">Advanced Learner Detected!</div>
                        <div style="font-size: 0.8rem;">Challenge: Try calculating daily calorie needs using the Harris-Benedict equation!</div>
                    </div>
                `;
                advancedTip.style.cssText = `
                    position: fixed;
                    top: 10px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: linear-gradient(135deg, #f59e0b, #d97706);
                    color: white;
                    padding: 15px;
                    border-radius: 15px;
                    box-shadow: 0 10px 25px rgba(245, 158, 11, 0.2);
                    z-index: 1000;
                    opacity: 0;
                    transition: all 0.5s ease;
                    max-width: 350px;
                    font-size: 0.9rem;
                `;
                
                document.body.appendChild(advancedTip);
                
                setTimeout(() => {
                    advancedTip.style.opacity = '1';
                }, 100);
                
                setTimeout(() => {
                    advancedTip.style.opacity = '0';
                    setTimeout(() => {
                        advancedTip.remove();
                    }, 500);
                }, 5000);
            }
        }

        // Monitor game completion for difficulty adjustment
        const originalUpdateGameScore = updateGameScore;
        updateGameScore = function() {
            originalUpdateGameScore();
            if (gameScore === maxScore) {
                setTimeout(adjustContentDifficulty, 2000);
            }
        };
    </script>
</body>
</html>